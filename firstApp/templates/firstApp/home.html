{% extends 'main.html' %}

{% block header %}
<h1>Welcome to the Homepage</h1>
{% endblock %}

{% block content %}
<style>
    .home-container {
        display: grid;
        grid-template-columns: 1fr 3fr; /* Sidebar (1 fraction), Main content (3 fractions) */
        gap: 20px; /* Space between columns */
        align-items: start; /* Align items at the start of the grid row */
    }
    .home-container div {
        padding: 10px;
    }
    .home-container div:first-child {
        border-right: 1px solid #ccc; /* Divider between sidebar and main content */
    }
    .home-container a {
        text-decoration: none;
        color: blue;
        margin-right: 10px;
    }
    .home-container hr {
        border: 1px solid #ccc;
    }
    .home-container .sidebar p {
        font-weight: bold;
    }
    .home-container .rooms a {
        display: inline-block;
        margin: 5px 0;
    }
</style>

<div class="home-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <p>Browse Topics</p>
        <ul>
            <a href="{% url 'home' %}">All</a> <br>


            {% for topic in topics %}
            <a href="{% url 'home' %}?q={{topic.name}}">{{topic.name}}</a> <br>

            {% endfor %}
            
        </ul>
    </div>

    <!-- Main Content -->
    <div class="rooms">
        <h5>{{room_counts}} rooms available</h5>
        <a href="{% url 'create-room' %}">Create Room</a><br><br>

        {% for room in rooms %}
        <div>
            <h1>{{room.topic}}</h1>
            <a href="{% url 'update-room' room.id %}">Edit</a>
            <a href="{% url 'delete-room' room.id %}">Delete</a>
            <span>@{{ room.host.username }}</span>
            <h4> <a href="{% url 'room' room.id %}">{{ room.name }}</a></h4>
            <small>{{ room.name }}</small>
            <hr>
        </div>
        {% empty %}
        <p>No rooms available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
